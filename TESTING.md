# ğŸ§ª æµ‹è¯•æŒ‡å—

æœ¬æ–‡æ¡£ä»‹ç» Gost ç®¡ç†ç³»ç»Ÿçš„æµ‹è¯•æ–¹æ³•å’Œå·¥å…·ï¼Œå¸®åŠ©æ‚¨éªŒè¯ç³»ç»ŸåŠŸèƒ½å’Œæ€§èƒ½ã€‚

## ğŸš¨ å®‰å…¨æé†’

**âš ï¸ é‡è¦: æµ‹è¯•åŠŸèƒ½ä»…åœ¨å¼€å‘å’Œæµ‹è¯•ç¯å¢ƒä¸­å¯ç”¨ï¼Œç”Ÿäº§ç¯å¢ƒå·²è‡ªåŠ¨ç¦ç”¨ï¼**

### å®‰å…¨æœºåˆ¶
- ğŸ”’ **ç¯å¢ƒæ£€æµ‹**: è‡ªåŠ¨è¯†åˆ«è¿è¡Œç¯å¢ƒå¹¶é™åˆ¶æµ‹è¯•åŠŸèƒ½
- ğŸ›¡ï¸ **API ä¿æŠ¤**: ç”Ÿäº§ç¯å¢ƒä¸­çš„æ•æ„Ÿæ“ä½œéœ€è¦ç‰¹æ®Šæˆæƒ
- ğŸ“ **æ“ä½œå®¡è®¡**: è®°å½•æ‰€æœ‰æµ‹è¯•å’Œç®¡ç†æ“ä½œ
- ğŸš« **æ•°æ®ä¿æŠ¤**: é˜²æ­¢æ„å¤–çš„æ•°æ®ä¸¢å¤±æˆ–æœåŠ¡ä¸­æ–­

### ç”Ÿäº§ç¯å¢ƒæˆæƒ
å¦‚éœ€åœ¨ç”Ÿäº§ç¯å¢ƒæ‰§è¡Œç‰¹æ®Šæ“ä½œï¼š
1. è®¾ç½®ç¯å¢ƒå˜é‡: `PRODUCTION_AUTH_TOKEN=your-secure-token`
2. API è¯·æ±‚æ·»åŠ å¤´éƒ¨: `X-Production-Auth: your-secure-token`
3. æ‰€æœ‰æ“ä½œéƒ½ä¼šè¢«å®¡è®¡è®°å½•

## ğŸ“‹ æµ‹è¯•æ¦‚è¿°

### æµ‹è¯•èŒƒå›´
- âœ… **ç³»ç»Ÿé›†æˆ**: éªŒè¯æ‰€æœ‰ç»„ä»¶æ­£ç¡®é›†æˆ
- âœ… **é…ç½®åŒæ­¥**: æµ‹è¯• Gost é…ç½®è‡ªåŠ¨ç”Ÿæˆå’ŒåŒæ­¥
- âœ… **ç”¨æˆ·ç®¡ç†**: éªŒè¯ç”¨æˆ·æƒé™å’Œç«¯å£èŒƒå›´ç®¡ç†
- âœ… **è§„åˆ™ç®¡ç†**: æµ‹è¯•è½¬å‘è§„åˆ™çš„åˆ›å»ºå’Œç®¡ç†
- âœ… **æµé‡ç»Ÿè®¡**: éªŒè¯æµé‡ç›‘æ§å’Œç»Ÿè®¡åŠŸèƒ½
- âœ… **API æ¥å£**: æµ‹è¯•æ‰€æœ‰åç«¯ API åŠŸèƒ½
- âœ… **å‰ç«¯ç•Œé¢**: éªŒè¯ç”¨æˆ·ç•Œé¢äº¤äº’å’Œæ•°æ®å±•ç¤º

### æµ‹è¯•ç±»å‹
- **åŠŸèƒ½æµ‹è¯•**: éªŒè¯æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½
- **é›†æˆæµ‹è¯•**: æµ‹è¯•ç³»ç»Ÿå„éƒ¨åˆ†çš„åä½œ
- **æ€§èƒ½æµ‹è¯•**: éªŒè¯ç³»ç»Ÿåœ¨ä¸åŒè´Ÿè½½ä¸‹çš„è¡¨ç°
- **å®‰å…¨æµ‹è¯•**: éªŒè¯æƒé™æ§åˆ¶å’Œå®‰å…¨æœºåˆ¶

## ğŸ› ï¸ å¿«é€Ÿæµ‹è¯•

### ç³»ç»Ÿå¥åº·æ£€æŸ¥
```bash
# å…¨é¢ç³»ç»Ÿæ£€æŸ¥
node backend/scripts/check-gost-integration.js

# é…ç½®åŒæ­¥æµ‹è¯•
node backend/test-gost-config.js

# ç³»ç»Ÿè¯Šæ–­
node backend/diagnose-system.js
```

### æ€§èƒ½åŸºå‡†æµ‹è¯•
```bash
# æ¸©å’Œå‹åŠ›æµ‹è¯• (æ¨è)
node backend/debug-gentle-test.js

# æµåª’ä½“å‹åŠ›æµ‹è¯•
node backend/test-streaming-pressure.js

# æé™æµ‹è¯• (1TB)
node backend/test-real-1tb.js
```

### API åŠŸèƒ½æµ‹è¯•
```bash
# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:3000/api/health

# æµ‹è¯•é…ç½®ç”Ÿæˆ
curl -X GET http://localhost:3000/api/gost-config/generate \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"

# æµ‹è¯•æ‰‹åŠ¨åŒæ­¥
curl -X POST http://localhost:3000/api/gost-config/sync \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

### å‰ç«¯åŠŸèƒ½æµ‹è¯•
è®¿é—®ä»¥ä¸‹é¡µé¢éªŒè¯åŠŸèƒ½ï¼š
- **ä»ªè¡¨ç›˜**: `http://localhost:8080/` - æŸ¥çœ‹ç³»ç»Ÿæ¦‚è§ˆ
- **ç”¨æˆ·ç®¡ç†**: `http://localhost:8080/users` - æµ‹è¯•ç”¨æˆ·ç®¡ç†åŠŸèƒ½
- **è§„åˆ™ç®¡ç†**: `http://localhost:8080/rules` - æµ‹è¯•è§„åˆ™åˆ›å»ºå’Œç¼–è¾‘
- **æµé‡ç»Ÿè®¡**: `http://localhost:8080/traffic` - éªŒè¯æµé‡ç›‘æ§
- **é…ç½®ç®¡ç†**: `http://localhost:8080/gost-config` - æµ‹è¯•é…ç½®åŒæ­¥
- **æµ‹è¯•é¢æ¿**: `http://localhost:8080/test-panel` - API æµ‹è¯•å·¥å…·

## ğŸ” æµ‹è¯•æµç¨‹

### 1. ç¯å¢ƒéªŒè¯
```bash
# æ£€æŸ¥ç³»ç»Ÿè¦æ±‚
node --version  # >= 16.0.0
npm --version   # >= 8.0.0

# éªŒè¯é¡¹ç›®ä¾èµ–
cd backend && npm list
cd frontend && npm list

# åˆå§‹åŒ–æ•°æ®åº“
cd backend && npm run migrate
```

### 2. æœåŠ¡å¯åŠ¨æµ‹è¯•
```bash
# å¯åŠ¨åç«¯æœåŠ¡
cd backend && npm start

# å¯åŠ¨å‰ç«¯æœåŠ¡ (æ–°ç»ˆç«¯)
cd frontend && npm run serve

# éªŒè¯æœåŠ¡çŠ¶æ€
curl http://localhost:3000/api/health
curl http://localhost:8080
```

### 3. åŠŸèƒ½æµ‹è¯•æ¸…å•

#### è®¤è¯åŠŸèƒ½
- [ ] ç®¡ç†å‘˜ç™»å½• (admin/admin123)
- [ ] æ™®é€šç”¨æˆ·ç™»å½•
- [ ] ç™»å½•çŠ¶æ€ä¿æŒ
- [ ] è‡ªåŠ¨ç™»å‡º

#### ç”¨æˆ·ç®¡ç†
- [ ] æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨
- [ ] åˆ›å»º/ç¼–è¾‘/åˆ é™¤ç”¨æˆ·
- [ ] è®¾ç½®ç«¯å£èŒƒå›´
- [ ] æƒé™æ§åˆ¶

#### è§„åˆ™ç®¡ç†
- [ ] æŸ¥çœ‹è§„åˆ™åˆ—è¡¨
- [ ] åˆ›å»º/ç¼–è¾‘/åˆ é™¤è§„åˆ™
- [ ] å¯ç”¨/ç¦ç”¨è§„åˆ™
- [ ] æ‰¹é‡æ“ä½œ

#### é…ç½®åŒæ­¥
- [ ] æŸ¥çœ‹é…ç½®çŠ¶æ€
- [ ] æ‰‹åŠ¨åŒæ­¥é…ç½®
- [ ] è‡ªåŠ¨åŒæ­¥åŠŸèƒ½
- [ ] é…ç½®å¯¹æ¯”

#### æµé‡ç»Ÿè®¡
- [ ] å®æ—¶æµé‡ç›‘æ§
- [ ] å†å²æ•°æ®æŸ¥çœ‹
- [ ] å›¾è¡¨å±•ç¤º
- [ ] é…é¢ç®¡ç†

### 4. é…ç½®åŒæ­¥æµ‹è¯•

#### åœºæ™¯ 1: è‡ªåŠ¨é…ç½®ç”Ÿæˆ
1. åˆ›å»ºç”¨æˆ·å¹¶è®¾ç½®ç«¯å£èŒƒå›´
2. ä¸ºç”¨æˆ·åˆ›å»ºè½¬å‘è§„åˆ™
3. éªŒè¯é…ç½®è‡ªåŠ¨ç”Ÿæˆ
4. æ£€æŸ¥ç«¯å£æƒé™éªŒè¯

#### åœºæ™¯ 2: å®æ—¶åŒæ­¥
1. é€šè¿‡ç•Œé¢åˆ›å»ºæ–°è§„åˆ™
2. è§‚å¯Ÿé…ç½®ç«‹å³åŒæ­¥
3. éªŒè¯ Gost æœåŠ¡é‡å¯
4. æ£€æŸ¥é…ç½®æ–‡ä»¶æ›´æ–°

#### åœºæ™¯ 3: å®šæ—¶åŒæ­¥
1. å¯åŠ¨è‡ªåŠ¨åŒæ­¥
2. ä¿®æ”¹æ•°æ®åº“è§„åˆ™
3. ç­‰å¾… 25 ç§’è§‚å¯ŸåŒæ­¥
4. éªŒè¯é…ç½®æ›´æ–°

### 5. æ€§èƒ½æµ‹è¯•

#### åŸºå‡†æµ‹è¯•
```bash
# æ¸©å’Œå‹åŠ›æµ‹è¯• (æ¨èæ–°ç”¨æˆ·)
node backend/debug-gentle-test.js

# æµåª’ä½“åœºæ™¯æµ‹è¯•
node backend/test-streaming-pressure.js

# æé™æ€§èƒ½æµ‹è¯•
node backend/test-real-1tb.js
```

#### å¹¶å‘æµ‹è¯•
```bash
# API å¹¶å‘æ€§èƒ½æµ‹è¯•
ab -n 1000 -c 10 http://localhost:3000/api/gost-config/stats

# æµé‡ç»Ÿè®¡å¹¶å‘æµ‹è¯•
ab -n 500 -c 5 http://localhost:3000/api/traffic/stats
```

## ğŸ“Š æµ‹è¯•æŠ¥å‘Š

### æµ‹è¯•è®°å½•æ¨¡æ¿
```
æµ‹è¯•æ—¥æœŸ: YYYY-MM-DD
æµ‹è¯•ç¯å¢ƒ: [å¼€å‘/æµ‹è¯•]
ç³»ç»Ÿç‰ˆæœ¬: [ç‰ˆæœ¬å·]

æµ‹è¯•ç»“æœ:
âœ… ç³»ç»Ÿé›†æˆæ£€æŸ¥: é€šè¿‡ (26/26)
âœ… é…ç½®æœåŠ¡æµ‹è¯•: é€šè¿‡ (8/8)
âœ… API åŠŸèƒ½æµ‹è¯•: é€šè¿‡
âœ… å‰ç«¯ç•Œé¢æµ‹è¯•: é€šè¿‡
âœ… é…ç½®åŒæ­¥æµ‹è¯•: é€šè¿‡
âœ… æ€§èƒ½åŸºå‡†æµ‹è¯•: é€šè¿‡

æ€»ä½“è¯„ä¼°: ç³»ç»ŸåŠŸèƒ½æ­£å¸¸
```

### é—®é¢˜è®°å½•
```
é—®é¢˜ç¼–å·: #001
é—®é¢˜æè¿°: [è¯¦ç»†æè¿°]
é‡ç°æ­¥éª¤: [æ­¥éª¤åˆ—è¡¨]
é¢„æœŸç»“æœ: [é¢„æœŸè¡Œä¸º]
å®é™…ç»“æœ: [å®é™…è¡Œä¸º]
ä¸¥é‡ç¨‹åº¦: [é«˜/ä¸­/ä½]
çŠ¶æ€: [å¾…ä¿®å¤/å·²ä¿®å¤]
```

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### é…ç½®åŒæ­¥å¤±è´¥
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
curl http://localhost:3000/api/gost/status

# æŸ¥çœ‹æ—¥å¿—
tail -f backend/logs/app.log

# é‡å¯æœåŠ¡
pm2 restart gost-manager
```

#### å‰ç«¯æ— æ³•è®¿é—®
```bash
# æ£€æŸ¥å‰ç«¯æœåŠ¡
curl http://localhost:8080

# æ£€æŸ¥ API è¿æ¥
curl http://localhost:3000/api/health

# æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
```

#### æ€§èƒ½æµ‹è¯•å¤±è´¥
```bash
# æ£€æŸ¥ç³»ç»Ÿèµ„æº
htop
df -h

# æ¸…ç†æµ‹è¯•æ•°æ®
node backend/reset-all-stats.js

# é‡æ–°è¿è¡Œæµ‹è¯•
node backend/debug-gentle-test.js
```

## ğŸ¯ æµ‹è¯•æœ€ä½³å®è·µ

### æµ‹è¯•ç­–ç•¥
1. **æ¸è¿›æµ‹è¯•**: ä»åŸºç¡€åŠŸèƒ½å¼€å§‹ï¼Œé€æ­¥å¢åŠ å¤æ‚åº¦
2. **ç¯å¢ƒéš”ç¦»**: åœ¨ä¸“ç”¨æµ‹è¯•ç¯å¢ƒä¸­è¿è¡Œæµ‹è¯•
3. **æ•°æ®æ¸…ç†**: æµ‹è¯•å®Œæˆåæ¸…ç†æµ‹è¯•æ•°æ®
4. **æ–‡æ¡£è®°å½•**: è®°å½•æµ‹è¯•ç»“æœå’Œå‘ç°çš„é—®é¢˜

### è‡ªåŠ¨åŒ–æµ‹è¯•
```bash
# åˆ›å»ºæµ‹è¯•è„šæœ¬
#!/bin/bash
echo "å¼€å§‹è‡ªåŠ¨åŒ–æµ‹è¯•..."

# ç³»ç»Ÿæ£€æŸ¥
node backend/scripts/check-gost-integration.js

# é…ç½®æµ‹è¯•
node backend/test-gost-config.js

# æ€§èƒ½æµ‹è¯•
node backend/debug-gentle-test.js

echo "æµ‹è¯•å®Œæˆï¼"
```

### æŒç»­é›†æˆ
```yaml
# .github/workflows/test.yml
name: Test Suite
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Setup Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '16'
    - name: Install dependencies
      run: |
        cd backend && npm install
        cd ../frontend && npm install
    - name: Run tests
      run: |
        node backend/scripts/check-gost-integration.js
        node backend/test-gost-config.js
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **[backend/TESTING.md](backend/TESTING.md)** - åç«¯æµ‹è¯•è¯¦ç»†æŒ‡å—
- **[frontend/README_API_TESTING.md](frontend/README_API_TESTING.md)** - å‰ç«¯ API æµ‹è¯•
- **[DOCUMENTATION_INDEX.md](DOCUMENTATION_INDEX.md)** - å®Œæ•´æ–‡æ¡£å¯¼èˆª

---

**ğŸ’¡ æç¤º**: å»ºè®®åœ¨æ¯æ¬¡éƒ¨ç½²å‰è¿è¡Œå®Œæ•´çš„æµ‹è¯•å¥—ä»¶ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§ã€‚
