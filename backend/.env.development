# 开发环境配置文件
# 这是一个简化的配置，适合本地开发和测试

# ===========================================
# 基础配置
# ===========================================

# 服务端口
PORT=3000

# 运行环境
NODE_ENV=development

# JWT 密钥 (开发环境)
JWT_SECRET=dev-jwt-secret-key-for-testing

# ===========================================
# 数据库配置
# ===========================================

# SQLite 数据库文件路径
DATABASE_PATH=./database/gost-manager.db

# 数据库日志
DATABASE_LOGGING=false

# ===========================================
# Redis 配置 (可选 - 如果没有 Redis 会自动回退)
# ===========================================

# 注释掉这些行如果没有安装 Redis
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# ===========================================
# 时序数据配置 (使用 SQLite，无需额外安装)
# ===========================================

# 时序数据使用 SQLite 存储，无需额外配置
# 数据保留策略:
# - 流量统计: 30天
# - 网速记录: 24小时
# 自动清理间隔: 24小时

# ===========================================
# 性能配置 (开发环境优化)
# ===========================================

# 节流同步配置 (开发环境使用较短间隔便于测试)
DB_SYNC_INTERVAL=30000              # 30秒 (开发环境)
MAX_PENDING_SYNC_USERS=100          # 较小的缓冲区
SYNC_BATCH_SIZE=10                  # 较小的批量大小

# 流量监控配置
TRAFFIC_BUFFER_INTERVAL=15000       # 15秒 (开发环境)
SPEED_RECORD_INTERVAL=30000         # 30秒
MAX_BUFFER_SIZE=100                 # 较小的缓冲区
EMERGENCY_FLUSH_SIZE=80             # 紧急刷新阈值

# 批量处理配置
BATCH_SIZE=10                       # 较小的批量大小
MAX_RETRIES=2                       # 较少的重试次数
RETRY_DELAY=500                     # 较短的重试延迟

# ===========================================
# 日志配置
# ===========================================

# 日志级别
LOG_LEVEL=debug

# 启用控制台日志
ENABLE_CONSOLE_LOG=true

# 启用请求日志
ENABLE_REQUEST_LOGGING=true

# ===========================================
# 开发配置
# ===========================================

# 启用开发模式功能
ENABLE_DEV_FEATURES=true

# 启用调试端点
ENABLE_DEBUG_ENDPOINTS=true

# 启用 CORS
ENABLE_CORS=true

# 允许的 CORS 源
CORS_ORIGINS=http://localhost:8080,http://localhost:3000,http://localhost:5173

# ===========================================
# GOST 配置
# ===========================================

# GOST 配置文件路径
GOST_CONFIG_PATH=./config/gost-config.json

# GOST Web API 端口 (如果启用)
GOST_API_PORT=8080
