import{bM as e,bN as t,bO as n,bH as i,bP as r,bQ as o,bR as s}from"./vue-core-cdf367b4.js";import{i as a,z as l}from"./element-plus-03b4afde.js";import"./utils-e33f2175.js";import"./vue-ecosystem-a18c730f.js";import"./echarts-d72601eb.js";import"./vendor-ea1ba5e7.js";import"./http-client-93d3f648.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const c=new class{constructor(){this.isEnabled=!1,this.checkInterval=null}isAdmin(e){return e&&"admin"===e.role}enable(t,n=null){if(!this.isAdmin(t))return!1;if(n&&!this.validateAuthCode(n))return!1;const i=e(t);return i&&(this.isEnabled=!0,this.startMonitoring(),this.showProductionWarning()),i}disable(){t(),this.isEnabled=!1,this.stopMonitoring()}validateAuthCode(e){return["ADMIN_TEST_2024","PROD_DEBUG_MODE","EMERGENCY_ACCESS"].includes(e)}startMonitoring(){this.checkInterval&&clearInterval(this.checkInterval),this.checkInterval=setInterval((()=>{}),3e5)}stopMonitoring(){this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null)}showProductionWarning(){this.showWarningBanner()}showWarningBanner(){const e=document.createElement("div");e.id="production-test-warning",e.innerHTML='\n      <div style="\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        background: #ff4757;\n        color: white;\n        padding: 10px;\n        text-align: center;\n        font-weight: bold;\n        z-index: 9999;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n      ">\n        ⚠️ 生产环境测试模式已启用 - 请谨慎操作\n        <button onclick="window.productionTestEnabler.disable(); this.parentElement.parentElement.remove();" \n                style="margin-left: 20px; padding: 5px 10px; background: white; color: #ff4757; border: none; border-radius: 3px; cursor: pointer;">\n          禁用测试模式\n        </button>\n      </div>\n    ',document.body.appendChild(e)}getStatus(){return{isProduction:n(),isEnabled:this.isEnabled,hasMonitoring:!!this.checkInterval,enabledAt:localStorage.getItem("api_test_mode_enabled_at"),enabledBy:localStorage.getItem("api_test_mode_enabled_by")}}quickEnable(e){return!!this.isAdmin(e)&&(localStorage.setItem("api_test_mode_enabled_at",(new Date).toISOString()),localStorage.setItem("api_test_mode_enabled_by",e.username),this.enable(e))}};window.productionTestEnabler=c;const d=i(s);d.use(a,{locale:l}),d.use(r),d.use(o),r.dispatch("user/initializeAuth").then((()=>{})).catch((e=>{})),d.mount("#app");
