# 🚀 GOST管理系统 - 服务器一键部署

## 📋 **部署步骤（超简单）**

### 1️⃣ **上传部署脚本**
```bash
# 下载部署脚本到服务器
wget https://raw.githubusercontent.com/JianDNA/GostUI/main/server-deploy-from-git.sh

# 或者使用curl
curl -O https://raw.githubusercontent.com/JianDNA/GostUI/main/server-deploy-from-git.sh
```

### 2️⃣ **一键部署**
```bash
# 给脚本执行权限
chmod +x server-deploy-from-git.sh

# 执行部署（全自动）
./server-deploy-from-git.sh
```

## 🎯 **部署过程（全自动）**

脚本会自动完成：

1. **✅ 环境检查**: 自动安装Node.js、Git、PM2
2. **✅ 代码克隆**: 从GitHub克隆最新代码
3. **✅ 依赖安装**: 自动安装后端依赖
4. **✅ 前端构建**: 自动构建Vue前端
5. **✅ GOST配置**: 配置项目提供的GOST版本
6. **✅ 服务配置**: 自动配置PM2和数据库
7. **✅ 服务启动**: 自动启动服务

## 🌐 **部署成功后**

```
✅ 服务启动成功！
🌐 访问地址: http://localhost:3000
🔐 默认账号: admin / admin123
✅ 前端页面访问正常
✅ API接口访问正常
🎉 Git部署完成！
```

## 📊 **管理命令**

部署完成后，可以使用：

```bash
# 查看服务状态
pm2 list

# 查看日志
pm2 logs gost-management

# 重启服务
pm2 restart gost-management

# 更新代码
/opt/gost-management/update.sh
```

## 🔄 **更新流程**

当你在GitHub上更新代码后：

```bash
# 在服务器上执行
/opt/gost-management/update.sh
```

这会自动：
- 拉取最新代码
- 重新构建前端
- 重启服务

## 🌐 **访问系统**

- **内网访问**: `http://localhost:3000`
- **外网访问**: `http://你的服务器IP:3000`
- **默认账号**: `admin`
- **默认密码**: `admin123`

## 🔒 **防火墙设置**

如果无法外网访问，需要开放端口：

```bash
# Ubuntu/Debian
sudo ufw allow 3000

# CentOS/RHEL
sudo firewall-cmd --permanent --add-port=3000/tcp
sudo firewall-cmd --reload
```

## 🆘 **常见问题**

### 1. 部署失败
```bash
# 查看详细日志
./server-deploy-from-git.sh 2>&1 | tee deploy.log
```

### 2. 服务无法启动
```bash
# 查看PM2日志
pm2 logs gost-management --lines 50
```

### 3. 无法访问
```bash
# 检查服务状态
pm2 list
curl http://localhost:3000

# 检查端口
netstat -tlnp | grep 3000
```

### 4. 更新失败
```bash
# 手动更新
cd /opt/gost-management
git pull origin main
pm2 restart gost-management
```

## 🎉 **优势特点**

- **✅ 零配置**: 无需手动配置任何环境
- **✅ 固定版本**: 使用项目提供的稳定GOST版本
- **✅ 公开仓库**: 无需Git登录
- **✅ 一键部署**: 一个命令完成所有部署
- **✅ 自动构建**: 前端自动构建并集成
- **✅ 进程管理**: PM2自动管理进程
- **✅ 开机自启**: 自动配置开机启动

---

**🚀 现在部署变得超级简单！只需要两个命令就能完成整个部署过程！**
